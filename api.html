<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="api.css">
    <title>Whether App</title>
</head>

<body>
    <div class="container">
        <div class="card">
            <h2> <ion-icon name="location" style="color: white;"></ion-icon> <span id="location"></span></h2>
            <h6 id="weather"></h6>
            <h6 id="hum">Humidity :<span id="humidity"></span></h6>
            <h6 id="spe" >Wind Speed:<spam id="speed"></spam> </h6>
            <h4> <span id="temp"></span><sup>o</sup>C</h4>
            <img src="" id="icon" alt="">
            <button onclick="window.location.reload()" class="refresh"><ion-icon name="refresh-sharp"
                    style="color: white;font-size: 40px"></ion-icon></button>

        </div>
    </div>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous">
        </script>

    <script>
        link = "https://api.openweathermap.org/data/2.5/weather?q=Nashik&appid=24c4ad5ac1a405e5ad26e74599ed2914";
        var request = new XMLHttpRequest;
        request.open("get", link, true);
        request.onload = function () {
            var obj = JSON.parse(this.response)
            console.log(obj);
            document.getElementById("weather").innerHTML = obj.weather[0].description;
            document.getElementById("location").innerHTML = obj.name;
            document.getElementById("temp").innerHTML = Math.round(obj.main.temp - 273.15);
            document.getElementById("icon").src = "https://openweathermap.org/img/w/" + obj.weather[0].icon + ".png";
            document.getElementById("humidity").innerHTML = obj.main.humidity;
            document.getElementById("speed").innerHTML = obj.wind.speed;
        }
        if (request.status >= 200 && request.status < 400) {
            var temp = obj.main.temp;
        }
        else {
            console.log("city data is not available .")

        }
        request.send();
    </script>

</body>

</html>